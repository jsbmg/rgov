import pytest

from rgov.dates import Dates

def test_validate_arrival_date():
    dates_1 = Dates("1-12-2022", "3")
    dates_2 = Dates("01-12-2022", "3")
    with pytest.raises(ValueError):
        dates_3 = Dates("01-12-2021", "2")
        dates_4 = Dates("hello")
        dates_5 = Dates(1)
        dates_6 = Dates("2021-01-12")
    dates_7 = Dates("2-27-2022", "35")
    assert dates_1.stay_dates == ['2022-01-12T00:00:00Z', '2022-01-13T00:00:00Z', '2022-01-14T00:00:00Z']
    assert dates_1.request_dates == ['2022-01-01T00:00:00.000Z'] 
    assert dates_2.request_dates == ['2022-01-01T00:00:00.000Z'] 
    assert dates_2.stay_dates == ['2022-01-12T00:00:00Z', '2022-01-13T00:00:00Z', '2022-01-14T00:00:00Z']
    assert dates_7.request_dates == ['2022-02-01T00:00:00.000Z', '2022-03-01T00:00:00.000Z', '2022-04-01T00:00:00.000Z'] 
    assert dates_7.stay_dates == ['2022-02-27T00:00:00Z','2022-02-28T00:00:00Z','2022-03-01T00:00:00Z','2022-03-02T00:00:00Z','2022-03-03T00:00:00Z','2022-03-04T00:00:00Z','2022-03-05T00:00:00Z','2022-03-06T00:00:00Z','2022-03-07T00:00:00Z','2022-03-08T00:00:00Z','2022-03-09T00:00:00Z','2022-03-10T00:00:00Z','2022-03-11T00:00:00Z','2022-03-12T00:00:00Z','2022-03-13T00:00:00Z','2022-03-14T00:00:00Z','2022-03-15T00:00:00Z','2022-03-16T00:00:00Z','2022-03-17T00:00:00Z','2022-03-18T00:00:00Z','2022-03-19T00:00:00Z','2022-03-20T00:00:00Z','2022-03-21T00:00:00Z','2022-03-22T00:00:00Z','2022-03-23T00:00:00Z','2022-03-24T00:00:00Z','2022-03-25T00:00:00Z','2022-03-26T00:00:00Z','2022-03-27T00:00:00Z','2022-03-28T00:00:00Z','2022-03-29T00:00:00Z','2022-03-30T00:00:00Z','2022-03-31T00:00:00Z','2022-04-01T00:00:00Z','2022-04-02T00:00:00Z'] 
